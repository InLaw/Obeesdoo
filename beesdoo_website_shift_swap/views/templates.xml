<odoo>
    <data>
        <!-- Add button to swap shift -->
        <template
            id="website_shift_swap_button"
            name="shift swap button"
            inherit_id="beesdoo_website_shift.my_shift_next_shifts">
            <xpath expr="//div[@class='card-body clearfix']" position="inside">
                <p>
                    <a t-att-href="'/my/shift/swaping/%i/%s' % (shift.task_template_id,shift.start_time)">Je ne peux réaliser ce Shift</a>
                </p>
            </xpath>
        </template>

        <!-- Template display shift -->
        <template
            id="website_shift_swap_swap_underpopulated"
            name="Shift Swap Underpopulated Page" >
            <title>Underpopulated Shift</title>
            <t t-foreach="underpopulated_shift" t-as="timeslot">
                <p>
                    <t t-esc="timeslot.template_id.name"/>
                    <t t-esc="timeslot.date"/>
                    <a t-att-href="'/my/shift/underpopulated/swap/subscribe/%i/%s' % (timeslot.template_id,timeslot.date)">Je m'inscris à ce Shift</a>
                </p>
            </t>
            <p>
                <a t-att-href="'/my/shift/possible/shift'">Aucun Shift me convient</a>
            </p>
        </template>

        <template
            id="website_shift_swap_possible_match"
            name="Shift Swap possible match Page" >
            <title>Possible Match</title>
            <t t-foreach="possible_matches" t-as="match">
                <p>
                    <t t-esc="match.exchanged_timeslot_id.template_id.name"/>
                    <t t-esc="match.exchanged_timeslot_id.date"/>
                </p>
            </t>
            <p>
                <a t-att-href="'/my/shift/possible/shift'">Aucun Shift me convient</a>
            </p>
        </template>

        <template
            id="website_shift_swap_possible_timeslot"
            name="Shift Swap possible timeslot Page">
            <title>Possible timeslot</title>
            <form method="post">
                <t t-set="index" t-value="0"/>
                <t t-foreach="possible_timeslot" t-as="timeslot">
                    <p>
                        <input type="checkbox" name="timeslot_index" multiple="multiple" t-att-value="index">
                            <t t-esc="timeslot.template_id.name"/>
                            <t t-esc="timeslot.date"/></input>
                        <t t-set="index" t-value="index + 1"/>
                    </p>
                </t>
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                <p>
                    <input type="submit" value="Valider l'échange avec ces shift"></input>
                </p>
            </form>
        </template>

        <template id="website_shift_swap_matching_request">
            <title>My Match</title>
            <t t-foreach="match" t-as="match">
                <p><t t-esc="match"/></p>
            </t>
        </template>


    </data>
</odoo>